extends taskListTemplate

block tasks

    if (licenceStatus.decisions.curfewAddressApproved !== 'withdrawn')
        div.taskListItem.borderBottomLight
            include tasks/eligibilitySummaryTask

    if licenceStatus.decisions.eligible
        div.taskListItem.borderBottomLight
            include tasks/curfewAddressTask

        if (licenceStatus.decisions.curfewAddressApproved !== 'withdrawn')
            div.taskListItem.borderBottomLight
                include tasks/riskManagementTask

            div.taskListItem.borderBottomLight
                include tasks/curfewHoursTask

            div.taskListItem.borderBottomLight
                include tasks/additionalConditionsTask

            div.taskListItem.borderBottomLight
                include tasks/reportingInstructionsTask

            div.taskListItem.borderBottom
                include tasks/finalChecksTask

            div.taskListItem.borderBottomLight
                include tasks/postponementTask

        if !licenceStatus.decisions.dmRefused
            div.taskListItem.borderBottom
                include tasks/HDCRefusalTask

        div.taskListItem.borderBottom
            if allowedTransition === 'caToDm'
                include tasks/caSubmitApprovalTask
            else if allowedTransition === 'caToDmRefusal'
                include tasks/caSubmitRefusalTask
            else if allowedTransition === 'caToRo'
                include tasks/caSubmitAddressReviewTask
            else
                include tasks/createLicenceTask

    else if licenceStatus.decisions.excluded || licenceStatus.decisions.unsuitableResult
        include tasks/informOffenderTask

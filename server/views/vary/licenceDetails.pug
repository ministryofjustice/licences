extends ../layout

block content
    include ../taskList/prisonerDetails
    -var data = {}

    form(method="post")
        input(type="hidden" name="_csrf" value=csrfToken)
        input(type="hidden" name="bookingId" value=bookingId || '')
        div.pure-g.borderBottom
            div.pure-u-1
                h2.heading-large Enter licence details

            div.pure-u-1.pure-u-md-1-2
                div.pure-g
                    div.pure-u-1.pure-u-md-4-5
                        h3.heading-medium Curfew address
                        div.form-group.midMarginBottom
                            label.form-label(for="addressLine1") Building and street
                            input(id="addressLine1" name="addressLine1" value=data.addressLine1 autofocus aria-label="Building and street" class="form-control")
                            input.form-control.smallMarginTop(id="addressLine2" name="addressLine2" value=data.addressLine2)

                        div.form-group.midMarginBottom
                            label.form-label(for="addressTown") Town or city
                            input(id="addressTown" name="addressTown" value=data.addressTown aria-label="Town or city" class="form-control")

                        div.form-group.midMarginBottom.pure-u-sm-1.pure-u-md-1-2
                            label.form-label(for="postCode") Postcode
                            input(id="postCode" name="postCode" value=data.postCode aria-label="Postcode" class="form-control")

                        div.form-group.pure-u-sm-1.pure-u-md-3-4
                            label.form-label(for="telephone") Telephone
                            input.form-control(id="telephone" name="telephone" value=data.telephone aria-label="Telephone" class="form-control")

            div.pure-u-1.pure-u-md-1-2
                div.pure-g
                    div.pure-u-1.pure-u-md-4-5
                        h3.heading-medium Reporting address (optional)
                        div.form-group.midMarginBottom
                            label.form-label(for="reportingAddressLine1") Building and street
                            input(id="reportingAddressLine1" name="reportingAddressLine1" value=data.addressLine1 autofocus aria-label="Building and street" class="form-control")
                            input.form-control.smallMarginTop(id="reportingAddressLine2" name="reportingAddressLine2" value=data.addressLine2)

                        div.form-group.midMarginBottom
                            label.form-label(for="addressTown") Town or city
                            input(id="reportingAddressTown" name="reportingAddressTown" value=data.addressTown aria-label="Town or city" class="form-control")

                        div.form-group.midMarginBottom.pure-u-sm-1.pure-u-md-1-2
                            label.form-label(for="reportingPostCode") Postcode
                            input(id="reportingPostCode" name="reportingPostCode" value=data.postCode aria-label="Postcode" class="form-control")

                        div.form-group.pure-u-sm-1.pure-u-md-3-4
                            label.form-label(for="reportingTelephone") Telephone
                            input.form-control(id="reportingTelephone" name="reportingTelephone" value=data.telephone aria-label="Telephone" class="form-control")

                        div.form-group.pure-u-sm-1.pure-u-md-3-4
                            label.form-label(for="reportingContact") Contact name
                            input.form-control(id="reportingContact" name="reportingContact" value=data.contact aria-label="Contact name" class="form-control")

        div.pure-g.borderBottom
            div.pure-u-1
                h3.heading-medium Curfew hours

                div.pure-g.largePaddingBottom.largeMarginBottom.paddingTop
                    div.pure-u-1.pure-u-md-4-5
                        div.pure-g.smallPaddingBottom
                            div.pure-u-1-4
                            div.pure-u-1-4
                                span.bold Time from
                            div.pure-u-1-2
                                span.bold Time to
                        div.pure-g
                            div.pure-u-1-4
                                span.bold Monday to Sunday
                            div.pure-u-1-4
                                div.tinyPaddingBottom
                                    label(for="allFrom", class="form-label")
                                        div.pure-g.content-pull
                                            div.pure-u-1-3
                                                div.l-box
                                                    input(name="allFrom", id="allFrom" class="form-control", value=data.allFrom || "19:00", type="time")
                                            div.pure-u-2-3

                            div.pure-u-1-2
                                div.tinyPaddingBottom
                                    label(for="allUntil", class="form-label")
                                        div.pure-g.content-pull
                                            div.pure-u-1-3
                                                div.l-box
                                                    input(name="allUntil", id="allUntil" class="form-control", value=data.allUntil || "07:00", type="time")
                                            div.pure-u-2-3



                div.largePaddingBottom
                    p.bold Do you need to enter different times for each day?

                    div.form-group.inline.smallPaddingTop
                        div.multiple-choice(data-target="daySpecificInputs")
                            input#yes(type="radio" checked=data.daySpecificInputs === "Yes" name="daySpecificInputs" value="Yes")
                            label(for="yes") Yes
                        div.multiple-choice
                            input#no(type="radio" checked=data.daySpecificInputs !== "Yes" name="daySpecificInputs" value="No")
                            label(for="no") No

                    div#daySpecificInputs.pure-u-1.pure-u-md-4-5.js-hidden
                        -var daysInAWeek = ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"]
                        div.pure-g.smallPaddingBottom
                            div.pure-u-1-4
                            div.pure-u-1-4
                                span.bold Time from
                            div.pure-u-1-2
                                span.bold Time to

                        for day in daysInAWeek
                            div.pure-g
                                div.pure-u-1-4
                                    span.bold.capitalize #{day}
                                div.pure-u-1-4
                                    div.tinyPaddingBottom
                                        label(for=day + "From", class="form-label")
                                            div.pure-g.content-pull
                                                div.pure-u-1-3
                                                    div.l-box
                                                        input(name=day + "From", id=day + "From" class="form-control", value=data[day + 'From'] || "19:00", type="time")
                                                div.pure-u-2-3

                                div.pure-u-1-2
                                    div.tinyPaddingBottom
                                        label(for=day + "Until", class="form-label")
                                            div.pure-g.content-pull
                                                div.pure-u-1-3
                                                    div.l-box
                                                        input(name=day + "Until", id=day + "Until" class="form-control", value=data[day + 'Until'] || "07:00", type="time")
                                                div.pure-u-2-3

        div.pure-g.borderBottom
            div.pure-u-1
                h3.heading-medium Additional conditions
                p.bold Do you want to add any additional conditions?
                    div.form-group.inline.smallPaddingTop
                        div.multiple-choice
                            input#conditionsYes(type="radio" name="additionalConditions" value="Yes")
                            label(for="conditionsYes") Yes
                        div.multiple-choice
                            input#conditionsNo(type="radio" name="additionalConditions" value="No")
                            label(for="conditionsNo") No

        div.midPaddingTopBottom
            include ../includes/formButtons

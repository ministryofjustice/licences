extends ../layout-grid

block content

    h1.heading-large Additional conditions

    form#additionalConditions(method='POST')
        input(type="hidden" name="_csrf" value=csrfToken)
        input(type="hidden" name="nomisId" value=nomisId)
        div#conditionsInstructions.paddingBottom.largeMarginBottom
            div.pure-g
                div.paddingBottom.borderBottom.midMarginBottom
                    p If the offender requires additional conditions adding to their licence select them below.
                    span.block.smallPaddingBottom
                        a(href="./standard/"+nomisId) View the seven standard conditions

                    a.button.button-secondary(href="/reporting/"+nomisId role="button") No additional conditions required

            div.pure-g
                for group, groupName in conditions
                    div.borderBottom.paddingBottom
                        if groupName !== 'base'
                            h2.heading-large #{groupName}
                        for subgroup, subgroupName in group
                            if subgroupName !== 'base'
                                h3.heading-medium #{subgroupName}
                            for condition in subgroup

                                - var conditionId = condition.ID.value
                                div.pure-g.smallPaddingBottom
                                    div.pure-u-1.pure-u-md-2-3.pure-g
                                        div.pure-u-1.multiple-choice.conditionSelector.noLeftPaddingColumn(data-target=condition.USER_INPUT.value+'_form')
                                            input(type="checkbox" id="check-"+conditionId value=condition.ID.value name="additionalConditions")
                                            label(for="check-"+conditionId) #{condition.TEXT.value}

                                    if condition.USER_INPUT.value
                                        div.pure-u-1.pure-u-md-1-3.conditionForm.js-hidden(id=condition.USER_INPUT.value+'_form')
                                            div.conditionForm
                                                include ./formBuilder

        div#continueBtns.pure-g.paddingBottom
            div.pure-u-1.inlineButtons
                input#continueBtn.requiredButton.button(type="submit" value="Continue")
                a#backBtn.requiredButton.button.button-secondary(href="/" role="button") Back to dashboard

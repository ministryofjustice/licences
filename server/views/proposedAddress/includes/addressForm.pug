include otherResidents
mixin addressForm(type)
    -var thisAddress = savedAddress[type] ? savedAddress[type] : {}
    -var savedOccupier = thisAddress.occupier || {}
    div.pure-g.paddingBottom
        div.pure-u-1.pure-u-md-1-2
            div.pure-g
                div.pure-u-1.pure-u-md-3-5
                    div.form-group.midMarginBottom
                        label.form-label(for=type+"address1") Building and street
                        input.form-control(id=type+"address1" name=type+"[addressLine1]" value=thisAddress.addressLine1)
                        input.form-control.smallMarginTop(id=type+"address2" name=type+"[addressLine2]" value=thisAddress.addressLine2)

                    div.form-group.midMarginBottom
                        label.form-label(for=type+"town") Town or city
                        input.form-control(id=type+"town" name=type+"[addressTown]" value=thisAddress.addressTown)

                    div.form-group.midMarginBottom.pure-u-sm-1.pure-u-md-1-2
                        label.form-label(for=type+"postCode") Postcode
                        input.form-control(id=type+"postCode" name=type+"[postCode]" value=thisAddress.postCode)

                    div.form-group.pure-u-sm-1.pure-u-md-3-4
                        label.form-label(for=type+"telephone") Telephone
                        input.form-control(id=type+"telephone" name=type+"[telephone]" value=thisAddress.telephone)

        div.pure-u-1.pure-u-md-1-2
            div.pure-g
                div.form-group.pure-u-1.pure-u-sm-10-24
                    label.form-label(for=type+"occupierName") Name of main occupier
                    input.form-control(id=type+"occupierName" name=type+"[occupier][name]" value=savedOccupier.name)

                div.form-group.pure-u-1.pure-u-sm-10-24.padLeftRight15
                    label.form-label(for=type+"occupierRelation") Relation to prisoner
                    input.form-control(id=type+"occupierRelation" name=type+"[occupier][relationship]" value=savedOccupier.relationship)

                div.form-group.pure-u-1.pure-u-sm-4-24
                    label.form-label(for=type + "occupierAge") Age
                    input.form-control(id=type + "occupierAge" name=type + "[occupier][age]" value=savedOccupier.age)

            +otherResidents(type, thisAddress)

            div.pure-g
                div.pure-u-4-5
                    div.form-group.inline.smallPaddingTop
                        p According to the offender, have they been convicted or cautioned for an offence against any of the above, or any neighbours to the above address?

                        div.multiple-choice
                            input(id=type+"-cautionedYes" type="radio" checked=thisAddress.cautionedAgainstResident === 'Yes' name=type+"[cautionedAgainstResident]" value="Yes")
                            label(for=type+"-cautionedYes") Yes
                        div.multiple-choice
                            input(id=type+"-cautionedNo" type="radio" checked=thisAddress.cautionedAgainstResident === 'No' name=type+"[cautionedAgainstResident]" value="No")
                            label(for=type+"-cautionedNo") No

extends ../layout

block content

    h1.heading-large Check prisoner details
    h2.heading-medium Personal details

    if !prisonerInfo

        p No prisoner details found

    else

        div#personalDetails.grid-row.borderBottom.paddingBottom
            div.column-one-quarter
                if(prisonerInfo.image.name)
                    img(src= "/public/images/placeholder.png")
                if(prisonerInfo.image.uploadedDate)
                    span.subText Uploaded: #{moment(prisonerInfo.image.uploadedDate).format('DD/MM/YYYY')}

            div.column-one-quarter
                div.midMarginBottom
                    |Name
                    if(prisonerInfo.firstName || prisonerInfo.lastName)
                        span#prisonerName.block.bold #{prisonerInfo.lastName}, #{prisonerInfo.firstName}

                div.midMarginBottom
                    | Aliases
                    if(prisonerInfo.aliases)
                        span#prisonerAliases.block.bold #{prisonerInfo.aliases}

                div.midMarginBottom
                    | Nomis number
                    if(prisonerInfo.nomsId)
                        span#prisonerPrisonNumber.block.bold #{prisonerInfo.nomsId}

            div.column-one-quarter
                div.midMarginBottom
                    | Date of birth
                    if(prisonerInfo.dateOfBirth)
                        span#prisonerDob.block.bold #{moment(prisonerInfo.dateOfBirth).format('DD/MM/YYYY')}

                div.midMarginBottom
                    | Gender
                    if(prisonerInfo.gender)
                        span#prisonerSex.block.bold #{prisonerInfo.gender}

                div.midMarginBottom
                    | Location
                    if(prisonerInfo.location)
                        span#prisonerLocation.block.bold #{prisonerInfo.location}

        h2.heading-medium Key dates

        div#keyDates.grid-row.paddingBottom
            div.column-one-quarter
                div.midMarginBottom
                    | Release date
                    span#releaseDate.block.bold
                        if (prisonerInfo.dates.conditionalReleaseDate)
                            | #{moment(prisonerInfo.dates.conditionalReleaseDate).format('DD/MM/YYYY')}
                        else
                            | N/A

            div.column-one-quarter
                div.midMarginBottom
                    | Licence expires
                    span#licenceExpires.block.bold
                        if (prisonerInfo.dates.licenceExpiryDate)
                            | #{moment(prisonerInfo.dates.licenceExpiryDate).format('DD/MM/YYYY')}
                        else
                            | N/A

        div#keyDates.grid-row.paddingBottom
            div.column-one-quarter
                div.midMarginBottom
                    | Sentence expires
                    span#sentenceExpires.block.bold
                        if (prisonerInfo.dates.sentenceExpiryDate)
                            | #{moment(prisonerInfo.dates.sentenceExpiryDate).format('DD/MM/YYYY')}
                        else
                            | N/A

    div#continueBtns.inlineButtons
        form(method="post", name="formPrint")
            input(type="hidden" name="_csrf" value=csrfToken)
            input(type="hidden" name="nomisId" value=nomisId)
            input.requiredButton.button(type="submit" value="Continue")
        a.requiredButton.button.button-secondary(href="/" role="button") Back to dashboard
